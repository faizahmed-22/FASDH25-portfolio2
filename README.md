# FASDH25-portfolio2
A repository for students' portfolios for mini-project 2
# Mini Project 2 by Ayesha Munshi, Faiz Ahmed, and Fatima Karim
This project aims to visualise places that are mentioned in articles to examine how the geographic scope of news articles shifts over time. The project uses regex and gazetteers to identify place names and locations in the texts.
## folder structure of the repository
The repository has 4 folders titled articles, gazetteers outputs and scripts. It also has a README file and gitignore.
### articles
It contains articles regarding the Gaza war, taken from the Al Jazeera website, going as far back as 2017. For part 2B of this project we had to create a path to this folder and then separate those articles written in january 2024 and count how often place names were mentioned in these articles, e.g. West Bank and Gaza Strip.
### gazetteers
This is an index containing 2 tsv files titled countries.tsv that has the coordinates of every country in the world and the second file is titled geonames_gaza_selection that has the coordinates for places in Gaza. this folder is relevant for part 3 of the project where we need to use it to find coordinates of place names in the ner_counts.tsv file.
### scripts
This folder contains the files of code written by our team regarding this project. It contains regex_counts.tsv, regex_script_final.py, Gaza-NER2_faiz_ayesha_fatima.ipynb, NER_gazetteer.tsv, build_gazetteer.py (fix to ipynb?) , regex_map.html, regex_map.png, ner_map.html, and ner_map.png
### README
The repository contains this file which documents the entire project.
## the overarching process
The project starts by reading into the articles present in the articles folder by opening each file and reading it as a string. The next step involves processing the articles to extract place names. This is done by stanza which scans the text for geographic entities (GPE or LOC).
When the place names have been extracted they are cleaned up to merge duplicates and remove endings like “‘s“ so that the map reflects accurate results. We then use geocoding to find the coordinates for these cleaned up place names so that these places can be plotted on the map. This is done by using named entity recognition(NER) to create a tsv file that has 3 columns, place name, latitude and longitude. For locations whose coordinated couldn't be
found, we marked them as “NA”. These names and places are what we managed to omit from the NER_counts.tsv file without compromising on the places: 
Nethanyahu
October7
ZIM Ganges
Supernova
Strip
IsraelPalestine
AlJazeera
MirandaCeland
RepJaypal 
RepCori 
BasedMikeLee
Ocean Jazz
SouthAfricansfrom
Africa4Palestine
MajedalansariKan
Wadi
Gaza
Carogennez
Flinders
Wallonia 
Tel Israel
SistanBalochostan province
Islamic Republic
Iran SistanBaluchistanprovince
Middle East Eye
BabelMandaib strait
zahrasultana
Palestine_UN 
AlMasjid
alOmari
alKabir
X 
Motaz
azizamotaz09
Earth 
adoniaayebare
TomWhiteGaza
azzZahara 
Hamad 
QFFD 
Hezbollah 
Ahmadiyyah
Zawiyah 
Panjur
Pakistan Baluchistan
UP 
Areas A 
PA
La France
Area C 
Gilo Har
Gilo 
India Basmati
The API searches GeoNames for each place name in the NER_counts.tsvand returns its corresponding coordinates. If no results are found, no data is returned. A new file is created called NER_gazetteer.tsv where this information is then stored and missing coordinates are then manually added. Say which places
Plotly.express is then used to create the map and pandas is used to merge data from the tsv file. By using plotly each location is represented by a marker on the map and the size of the marker shows how often a place was mentioned. The map is animated by month allowing us to see how news coverage shifts over time and contains ever place from the NER extraction. By making the map a HTML file, it allows anyone to explore it in their browser. A static image has also been generated which will be shown below. We also mapped the frequency of mentions that were extracted from articles published in January 2024. Part 4A uses gazetteer and regex while 4B uses NER, allowing us to compare the two approaches and how the geographic scope of news articles shifts over time.
## advantages and disadvantages of using gazetteer, regex and NER
Regex + gazetteer method is fast and easy to implement. This combination boosts accuracy and is customizable as it allows for control over which names are included. However, Regex can’t differentiate between words with more than one meaning such as “Khan Yunis” the place and “Khan Yunis” the name. In contrast to that, the NER method uses a pre-trained language model to detect location names based on context. It works well at identifying common and unexpected places without needing a predefined list. The drawback for NER is that it runs slower while offering less transparency as compared to Regex. An advantage of using both approaches is that it allows us to compare the results generated by one against the other. The gazetteer ensures consistency and utilising both approaches allows us to improve accuracy when analysing named entities in texts. However this can be time consuming when analysing large data sets. A disadvantage is that there is the risk of duplicates if entities are matched differently by both methods.
## image of final maps
![ner_map](https://github.com/user-attachments/assets/4abb38b6-e199-4b20-9790-ddc2201aeba8)
![regex_map](https://github.com/user-attachments/assets/7a603ff9-efd2-4e1e-9508-0d35d688e35e)
## self critical analysis
It would have been better if we had more time as just a week was too short of a time frame. There were also multiple issues with the code not running correctly but those were solved by working together as a group. The code comments helped where we had to understand each others codes but overall the project would have been smoother if we had another 2 or 3 days to refine it. Wen it comes to the code itself it is important for the coordinates in the gazetteer file to be extremely accurate otherwise GeoNames does not recognise the location. If the NER model was improved it would make the project better because otherwise it cannot tell the difference between certain names and places that have the same name like Khan Younis the city and Khan Younis the name.
